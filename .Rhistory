count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
ggplot(aes(maternal_ed, prop)) +
geom_col() +
labs(
x = "Education Level",
y = "Proportion of respondents"
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
)
#get rid of text in education columns
ses_pilot_raw <-
ses_pilot_raw %>%
mutate_at(
.vars = vars(contains("education")),
.funs = function(ed_value) {
print(ed_value)
num_years_ed <-
ed_value %>%
str_replace_all("[^[:digit:]|\\.]", "") %>%
as.numeric()
return(num_years_ed)
}
) %>%
mutate(age = as.numeric(age))
maternal_ed <-
ses_pilot_raw %>%
select(subject_id, mother_education) %>%
mutate(
maternal_ed = case_when(
mother_education <= 11 ~ "Some high school or less",
mother_education == 12 ~ "High school diploma",
mother_education %in% seq.int(13, 15) ~
"Some college education",
mother_education >= 16 ~ "College diploma or more"
)
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
ggplot(aes(maternal_ed, prop)) +
geom_col() +
labs(
x = "Education Level",
y = "Proportion of respondents"
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
ggplot(aes(maternal_ed, prop)) +
geom_col() +
labs(
x = "Education Level",
y = "Proportion of respondents"
) +
ggthemes::theme_minimal()
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
ggplot(aes(maternal_ed, prop)) +
geom_col() +
labs(
x = "Education Level",
y = "Proportion of respondents"
) +
theme_minimal()
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
)
?tibble
old_props <-
tibble(
maternal_ed = c(
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
),
old_prop = c(.07, .24, .24, .44)
)
View(old_props)
old_props <-
tibble(
maternal_ed = c(
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
),
old_prop = c(.075, 23.85, 24.8, .4385)
)
old_prop = c(.075, 23.85, 24.8, .4385)
sum(old_prop)
sum(old_prop)
old_prop = c(.075, .2385, .248, .4385)
old_prop = c(.075, .2385, .248, .4385)
sum(old_prop)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = maternal_ed)
?left_join
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed"))
?pivot_longer
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(cols = contains("prop"), names_to = "old_or_new?")
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = contains("prop"),
names_to = "old_or_new?",
values_to = "proportion"
) %>%
ggplot(aes(maternal_ed, proportion, fill = old_or_new)) +
geom_col(position = "dodge") +
labs(
x = "Education Level",
y = "Proportion of respondents"
) +
theme_minimal()
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = contains("prop"),
names_to = "old_or_new?",
values_to = "proportion"
) %>%
ggplot(aes(maternal_ed, proportion, fill = old_or_new?)) +
theme_minimal()
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = contains("prop"),
names_to = "old_or_new?",
values_to = "proportion"
) %>%
ggplot(aes(maternal_ed, proportion, fill = `old_or_new?`)) +
geom_col(position = "dodge") +
labs(
x = "Education Level",
y = "Proportion of respondents"
) +
theme_minimal()
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = contains("prop"),
names_to = "old_or_new?",
values_to = "proportion"
)
old_props <-
tibble(
maternal_ed = c(
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
),
old_prop = c(.075, .2385, .248, .4385)
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = contains("prop"),
names_to = "old_or_new?",
values_to = "proportion"
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
prop = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = contains("prop"),
names_to = "old_or_new?",
values_to = "proportion"
) %>%
ggplot(aes(maternal_ed, proportion, fill = `old_or_new?`)) +
geom_col(position = "dodge") +
labs(
x = "Education Level",
y = "Proportion of respondents"
) +
theme_minimal()
old_props <-
tibble(
maternal_ed = c(
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
),
`2007 Manual` = c(.075, .2385, .248, .4385)
)
View(old_props)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
`Current study` = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
`Current study` = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = contains("prop"),
names_to = "old_or_new?",
values_to = "proportion"
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
`Current study` = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = c("Current Study", "2007 Manual"),
names_to = "old_or_new?",
values_to = "proportion"
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
`Current study` = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n)
old_props <-
tibble(
maternal_ed = c(
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
),
`2007 manual` = c(.075, .2385, .248, .4385)
)
maternal_ed %>%
count(maternal_ed) %>%
mutate(
`Current study` = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = c("Current study", "2007 manual"),
names_to = "Study type",
values_to = "proportion"
) %>%
ggplot(aes(maternal_ed, proportion, fill = `Study type`)) +
geom_col(position = "dodge") +
labs(
x = "Education Level",
y = "Proportion of respondents"
) +
theme_minimal()
maternal_ed %>%
count(maternal_ed) %>%
mutate(
`Current study` = n / sum(n)
) %>%
mutate(
maternal_ed = fct_relevel(
maternal_ed,
"Some high school or less",
"High school diploma",
"Some college education",
"College diploma or more"
)
) %>%
left_join(old_props, by = c("maternal_ed")) %>%
select(-n) %>%
pivot_longer(
cols = c("Current study", "2007 manual"),
names_to = "Study type",
values_to = "proportion"
) %>%
ggplot(aes(maternal_ed, proportion, fill = `Study type`)) +
geom_col(position = "dodge") +
labs(
x = "Education Level",
y = "Proportion of respondents"
) +
theme_few()
